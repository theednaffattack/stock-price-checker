{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/src/components/IssueTracker/IssueContainer.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n  \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { Box, Button, Flex as FlexBase } from \"rebass\";\nimport { requestToApi } from \"react-data-fetching\";\nimport { borders, minHeight } from \"styled-system\";\nimport styled from \"styled-components\";\nimport { IssueForm } from \"./IssueForm\";\nvar Flex = styled(FlexBase)(_templateObject(), borders, minHeight);\nexport var IssueContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(IssueContainer, _Component);\n\n  function IssueContainer(props) {\n    var _this;\n\n    _classCallCheck(this, IssueContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IssueContainer).call(this, props));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      title: \"\",\n      text: \"\",\n      created_by: \"\",\n      assigned_to: \"\",\n      status_text: \"\",\n      issues: [],\n      response: {}\n    };\n    return _this;\n  }\n\n  _createClass(IssueContainer, [{\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      event.preventDefault();\n      var _event$target = event.target,\n          value = _event$target.value,\n          name = _event$target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleFormSubmit\",\n    value: function () {\n      var _handleFormSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var value, apiResponse;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                value = event.target.value;\n                alert(\"form submitted: \" + value);\n                console.log(\"calling api/issues\");\n                _context.next = 6;\n                return requestToApi({\n                  url: \"/api/issues?input=\".concat(this.state.input),\n                  method: \"POST\",\n                  onTimeout: function onTimeout() {\n                    return console.log(\"⏱️ Timeout!\");\n                  },\n                  onProgress: function onProgress(progression) {\n                    return \"♻️ Progressing...\", progression;\n                  },\n                  // params: { page: 5, start: 0, limit: 20 },\n                  timeout: 2500\n                });\n\n              case 6:\n                apiResponse = _context.sent;\n                console.log(Object.keys(apiResponse));\n                console.log(apiResponse.data);\n                this.setState(function () {\n                  return {\n                    response: apiResponse.data\n                  };\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleFormSubmit(_x) {\n        return _handleFormSubmit.apply(this, arguments);\n      }\n\n      return handleFormSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var notIssues = this.state;\n      delete notIssues.issues;\n      return React.createElement(Flex, {\n        flexDirection: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"IssueContainer\", React.createElement(IssueForm, {\n        submit: this.handleFormSubmit,\n        formState: notIssues,\n        inputState: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return IssueContainer;\n}(Component);","map":{"version":3,"sources":["/Users/eddienaff/Private Folder/projects/web/fcc/infosec_qa_challenges/stock-challenge/client/src/components/IssueTracker/IssueContainer.js"],"names":["React","Component","Box","Button","Flex","FlexBase","requestToApi","borders","minHeight","styled","IssueForm","IssueContainer","props","handleInputChange","bind","handleFormSubmit","state","title","text","created_by","assigned_to","status_text","issues","response","event","preventDefault","target","value","name","setState","alert","console","log","url","input","method","onTimeout","onProgress","progression","timeout","apiResponse","Object","keys","data","notIssues"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Box, Button, Flex as FlexBase } from \"rebass\";\nimport { requestToApi } from \"react-data-fetching\";\nimport { borders, minHeight } from \"styled-system\";\nimport styled from \"styled-components\";\n\nimport { IssueForm } from \"./IssueForm\";\n\nconst Flex = styled(FlexBase)`\n  ${borders}\n  ${minHeight}\n`;\n\nexport class IssueContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.state = {\n      title: \"\",\n      text: \"\",\n      created_by: \"\",\n      assigned_to: \"\",\n      status_text: \"\",\n      issues: [],\n      response: {}\n    };\n  }\n\n  handleInputChange(event) {\n    event.preventDefault();\n    let { value, name } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async handleFormSubmit(event) {\n    event.preventDefault();\n    let { value } = event.target;\n    alert(\"form submitted: \" + value);\n    console.log(\"calling api/issues\");\n    const apiResponse = await requestToApi({\n      url: `/api/issues?input=${this.state.input}`,\n      method: \"POST\",\n      onTimeout: () => console.log(\"⏱️ Timeout!\"),\n      onProgress: progression => (\"♻️ Progressing...\", progression),\n      // params: { page: 5, start: 0, limit: 20 },\n      timeout: 2500\n    });\n    console.log(Object.keys(apiResponse));\n    console.log(apiResponse.data);\n    this.setState(() => ({ response: apiResponse.data }));\n  }\n  render() {\n    let notIssues = this.state;\n    delete notIssues.issues;\n    return (\n      <Flex flexDirection=\"column\">\n        IssueContainer\n        <IssueForm\n          submit={this.handleFormSubmit}\n          formState={notIssues}\n          inputState={this.handleInputChange}\n        />\n      </Flex>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}